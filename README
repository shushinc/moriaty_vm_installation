## System requirements

The control node must have Ansible 8.0+ (ansible-core 2.15+)

All managed nodes in inventory must have:

Passwordless SSH access
Root access (or a user with equivalent permissions)

## Usage

1. Start by cloning the repository:
```bash
git clone https://github.com/shushinc/moriaty_vm_installation.git
```
2. Edit the inventory file to add the `ansible_user` you created during the prerequisites:
```bash
vim inventory.yml

ansible_user: ansible
```
4. update Inventory file 

```bash
vi inventory.yml
```

4. update db ip  

```bash
vi main.yml ( Line Number 102)
```

3. In the root directory, run the Ansible playbook to provision the cluster:

```bash
ansible-playbook playbook/sites.yaml -i inventory.yml --tags mysql
ansible-playbook playbook/sites.yaml -i inventory.yml --tags moriarty
```


Verfication:
Check devportal user is added to mysql  on the db server
1.  mysql -u root
2. SELECT user, host FROM mysql.user;